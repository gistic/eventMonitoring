<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>ADMIN PANEL</title>
    <link rel="stylesheet" href="../assets/stylesheets/screen.css">
    <link rel="stylesheet" href="../assets/fonts/eventboard/style.css">

    <link rel="stylesheet" type="text/css" href="../assets/vendors/notifications/css/ns-default.css" />
    <link rel="stylesheet" type="text/css" href="../assets/vendors/notifications/css/ns-style-other.css" />
    <link rel="stylesheet" type="text/css" href="../assets/vendors/notifications/css/ns-style-growl.css" />

    <!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

</head>

<body ng-app="eventAdminApp" ng-controller="startEventCtrl">

    <!-- HEADER	-->
    <header class="container-fluid clearfix">

        <div class="row">
            <div class="start-event col-md-5">
                <div class="input-group">
                    <input type="search" id="eventHashtag" class="form-control" placeholder="#Hashtag" ng-model="eventHashtag" value="" ng-enter="startEventHandler()">
<!--
                    <span class="input-group-btn">
                        <button class="btn btn-search" type="button" ng-click="startEventHandler()"><i class="fa fa-search"></i></button>
                    </span>
-->
                </div>
            </div>

            <h2 class="col-md-5 col-md-offset-6 logo">
            <a href="/admin">TweetBoard</a>
		</h2>

            <nav class="col-md-4 pull-right">
                <a ng-href="{{baseUrl}}/index.html#/live" class="btn" target="_blank">
				Presentation <i class="icon-controller-play"></i>
			</a>
                <button class="btn btn-stop" id="stopEvent" ng-click="stopEventHandler()">
                    Stop <i class="fa fa-stop"></i>
                </button>
            </nav>
        </div>

    </header>
    
    <aside class="container-fluid">
        <!-- Admin Statistics -->
        <section class="admin-stats text-center row">
            <article class="col-md-6">
                <strong><timer autostart="false">{{minutes}} : {{seconds}}</timer></strong>
                <p>Event time</p>
            </article>
            <article class="col-md-6">
                <strong>--</strong>
                <p>People</p>
            </article>
            <article class="col-md-6">
                <strong>{{tweetsCount}}</strong>
                <p>Tweets</p>
            </article>
            <article class="col-md-6">
                <strong>--</strong>
                <p>Retweets</p>
            </article>
        </section>
    </aside>

    <!-- Main -->
    <main class="container">

        <section class="container admin-moderation">
            <div class="clearfix moderation-header">
                <h3 class="text-center">Moderation</h3>
            </div>

            <nav class="clearfix">
                <ul class="list-inline pull-left tweets-nav">
                    <li><i class="fa fa-times"></i> {{removedTweetsCount}} tweets</li>
                    <li><i class="fa fa-check"></i> {{approvedTweetsCount}} tweets</li>
                </ul>

                <ul class="list-inline pull-right">

                  <!--                    <li><a href="#">Approve all</a></li>-->

                    <li ng-controller="trustedUsersModalCtrl">
                        <a ng-click="open()">Trusted Users</a>

                        <!-- Modal -->
                        <script type="text/ng-template" id="trustedUsers.html">
                            <div class="modal-window">
                                <div class="modal-header">
                                    <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Trusted users</h4>
                                </div>
                                <div class="input-group">
                                    <input type="search" class="form-control" placeholder="@Username" value="" ng-model="trustedUsername" ng-enter="updateTrustedUsers(trustedUsername)">
                                    <span class="input-group-btn">
										<button class="btn btn-search" type="button" ng-click="updateTrustedUsers()">Add</button>
									</span>
                                </div>
                                <div class="modal-body">

                                    <ul class="users-list">
                                        <li ng-repeat="user in trustedUsers" class="clearfix">
                                            <strong>
<!--                                            <img ng-src="logo.png" err-SRC="http://a0.twimg.com/sticky/default_profile_images/default_profile_4.png" />-->
											<a class="">
												{{user}}
											</a>
											</strong>
                                            <a class="pull-right remove-user" ng-click="deleteTrustedUsername($index)">Remove</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </script>
                    </li>

					<li ng-controller="blockedUsersModalCtrl">
						<a ng-click="open()">Blocked Users</a>
						<!-- Modal -->
						<script type="text/ng-template" id="blockedUsers.html">
							<div class="modal-window">
								<div class="modal-header">
									<button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span>
									</button>
									<h4 class="modal-title">Blocked users</h4>
								</div>
								<div class="input-group">
									<input type="search" class="form-control" placeholder="@Username" value="" ng-model="blockedUsername" ng-enter="updateBlockedUsers()">
									<span class="input-group-btn">
										<button class="btn btn-search" type="button" ng-click="updateBlockedUsers()">Add</button>
									</span>
								</div>
								<div class="modal-body">

									<ul class="users-list">
										<li ng-repeat="user in blockedUsers" class="clearfix">
											<strong>

<!--											<img ng-src="logo.png" err-SRC="http://a0.twimg.com/sticky/default_profile_images/default_profile_4.png" />-->
											<a class="">
												{{user}}
											</a>
											</strong>

                                            <a class="pull-right remove-user" ng-click="deleteBlockedUsername($index)">Remove</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </script>
                    </li>

                </ul>
            </nav>

            <section class="tweets-queue" id="toApproveDiv">

                <button type="button" class="btn btn-load-more" ng-show="loadMoreButton()" ng-click="loadMoreTweets()"><strong><i class="fa fa-arrow-up"></i></strong> {{remainingTweetsCount}} New Tweets
                </button>

                <article class="media clearfix tweet" id="{{tweet.id_str}}" ng-repeat="tweet in tweetsQueue | limitTo : tweetsQueueLimit()">
                    <div class="pull-left">
                        <img ng-src="{{tweet.user.profile_image_url_https}}" alt="" class="media-object">
                    </div>
                    <div class="tweet-content pull-left">
                        <h6 class="tweet-user">
							{{tweet.user.name}}
							<small>
							<a href="http://twitter.com/{{tweet.user.screen_name}}" target="_blank">
							@ {{tweet.user.screen_name}}
							</a>
							</small>
						</h6>
                        <p>{{tweet.text}}</p>
                        <small class="text-muted">{{tweet.user.country}}</small>
                    </div>

                    <div class="btn-toolbar pull-right tweet-options" role="toolbar">

                        <div class="btn-group " role="group">
                            <button type="button" class="btn btn-default" data-id="{{$index}}" ng-click="approveTweet($event)"><i class="icon-check"></i>
                            </button>
                            <button type="button" class="btn btn-default" ng-click="removeTweet($event)"><i class="icon-cross"></i>
                            </button>
                            <button type="button" class="btn btn-default" ng-click="approveStarred($event)"><i class="icon-star"></i>
                            </button>
                        </div>

                        <div class="btn-group " role="group">
                            <button type="button" class="btn btn-default" ng-click="updateTrustedUsers($event, tweet.user.screen_name, tweet.user.profile_image_url_https)"><i class="icon-add-user"></i>
                            </button>
                            <button type="button" class="btn btn-default" ng-click="updateBlockedUsers($event, tweet.user.screen_name, tweet.user.profile_image_url_https)"><i class="icon-remove-user"></i>
                            </button>
                        </div>

                    </div>

                </article>
            </section>

        </section>
    </main>


    <!-- Footer -->
    <footer class="container clearfix">
        <small class="text-muted pull-left">TweetBoard Â© 2015</small>
        <ul class="list-inline social-links pull-right">
            <li>
                <a href="">
                    <span class="icon-envelope"></span>
                </a>
            </li>

            <li>
                <a href="">
                    <span class="icon-twitter"></span>
                </a>
            </li>

            <li>
                <a href="">
                    <span class="icon-linkedin"></span>
                </a>
            </li>

            <li>
                <a href="">
                    <span class="icon-facebook"></span>
                </a>
            </li>
        </ul>
    </footer>

    <!-- SCRIPTS -->
    <script src="../assets/scripts/jquery.min.js"></script>
    <script src="../assets/vendors/notifications/js/modernizr.custom.js"></script>
    <script src="../assets/scripts/angular.min.js"></script>
    <script src="../assets/scripts/bootstrap.min.js"></script>
    <script src="../assets/scripts/widgets.js" charset="utf-8"></script>

    <!-- Vendors -->
    <script src="../assets/scripts/angular-animate.min.js"></script>
    <script src="../assets/scripts/angular-cookies.min.js"></script>
    <script src="../assets/scripts/angular-route.min.js"></script>
    <script src="../assets/vendors/ui-bootstrap-tpls-0.12.1.min.js"></script>
    <script src="../assets/vendors/angular-timer-all.min.js"></script>

    <script src="../assets/vendors/angular-file-upload/angular-file-upload.min.js"></script>

    <script src="../assets/scripts/adminApp.js"></script>

    <script src="../assets/vendors/notifications/js/classie.js"></script>
    <script src="../assets/vendors/notifications/js/notificationFx.js"></script>


</body>

</html>
