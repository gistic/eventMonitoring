var myAppServices=angular.module("myAppServices",[]);myAppServices.factory("RequestData",["$rootScope","$http","$location","$window",function($rootScope,$http,$location,$window){return{setEventHashTag:function(eventHashtag){$rootScope.eventHashtag=eventHashtag},getEventHashTag:function(){return $rootScope.eventHashtag},setEventID:function(eventID){$rootScope.eventID=eventID},getEventID:function(){return $rootScope.eventID},fetchData:function(requestAction,apiUrl,requestData){var requestUrl=$rootScope.baseUrl+apiUrl;return $http({method:requestAction,url:requestUrl,data:requestData}).success(function(response){return console.log("Request Successed"),response.data}).error(function(){console.log("Request failed")})},startEvent:function(requestAction){var eventHashtag=$("#eventHashtag").val(),requestUrl=$rootScope.baseUrl+"/api/events";return $http({method:"POST",url:requestUrl,data:{hashTags:[eventHashtag]}}).success(function(response){return $rootScope.eventHashtag=eventHashtag,$rootScope.eventID=response.uuid,response.uuid}).error(function(){console.log("Request failed")})}}}]),myAppServices.factory("RequestViewsLayoutData",["$rootScope","$location","$window","filterFilter","RequestData",function($rootScope,$location,$window,filterFilter,RequestData){return $rootScope.layoutColors=["black","turquoise","blue","violet","pink","green","orange"],$rootScope.layoutColor=function($index){$rootScope.userColor=$rootScope.layoutColors[$index]},$rootScope.layoutSizes=["small","normal","large"],$rootScope.layoutSize=function($index){$rootScope.userSize=$rootScope.layoutSizes[$index]},$rootScope.layoutScreens=[{name:"Live Tweets",value:"live",selected:!0},{name:"Top People",value:"top",selected:!0},{name:"Tweets Over Time",value:"overtime",selected:!0}],{userColor:function(){return $rootScope.userColor},userSize:function(){return $rootScope.userSize},userScreen:function(){return $rootScope.userScreens}}}]),myAppServices.factory("CreateEventSource",["$rootScope","$location","RequestData",function($rootScope,$location,RequestData){return this.eventSourceObject,this.closed,{createSource:function(){var apiUrl="/api/liveTweets?uuid="+$rootScope.eventID,requestUrl=$rootScope.baseUrl+apiUrl;return $rootScope.liveTweetsUrl=requestUrl,this.eventSourceObject=new EventSource($rootScope.liveTweetsUrl),this.closed=!1,this.eventSourceObject},getSourceObject:function(){return this.eventSourceObject||this.createSource()},closeEventSource:function(){return null!=this.eventSourceObject||void 0!=this.eventSourceObject?(this.eventSourceObject.close(),this.eventSourceObject=void 0,void(this.closed=!0)):void 0}}}]);