/*! eventMonitoringProject 2015-05-14 */nvar trustedUsersController=angular.module("trustedUsersController",[]);trustedUsersController.controller("TrustedUsersModalController",["$scope","$modal",function($scope,$modal){$scope.open=function(){$modal.open({templateUrl:"trustedUsers.html",controller:"TrustedUsersController",size:"sm"})}}]),trustedUsersController.controller("TrustedUsersController",["$rootScope","$scope","$http","$modalInstance","RequestData",function($rootScope,$scope,$http,$modalInstance,RequestData){$scope.trustedUsers=[];var eventID=$rootScope.eventID,requestAction="GET",apiUrl="/api/events/"+eventID+"/trustedUsers",requestData="";RequestData.fetchData(requestAction,apiUrl,requestData).then(function(response){$scope.trustedUsers=response.data}),$scope.updateTrustedUsers=function(){var screenName=$scope.trustedUsername,requestAction="PUT",apiUrl="/api/events/"+eventID+"/trustedUsers/"+screenName,requestData="";RequestData.fetchData(requestAction,apiUrl,requestData).then(function(response){$scope.trustedUsers.push($scope.trustedUsername)})},$scope.deleteTrustedUsername=function(index){var screenName=$scope.trustedUsers[index],requestAction="DELETE",apiUrl="/api/events/"+eventID+"/trustedUsers/"+screenName,requestData="";RequestData.fetchData(requestAction,apiUrl,requestData,screenName).then(function(response){$scope.trustedUsers.splice(index,1)})},$scope.cancel=function(){$modalInstance.dismiss("cancel")}}]);